<div class="flex flex-col justify-between w-full h-full relative peer">
  <img
    fill
    class="-z-10 rounded"
    alt="mini-investigator"
    [ngSrc]="imagesService.getMiniIllustration(asset().setInfo)"
  />

  <ah-vitals-bar [entity]="asset()" />
  <div class="bg-gray-950/50 flex justify-center items-center">
    <ah-asset-detail-icon
      [detail]="asset().slot"
      [image]="imagesService.getOverlay(CreateOverlay.cardSlot(asset().slot))"
      [withoutText]="true"
    />
    <ah-asset-detail-icon
      [detail]="asset().additionalSlot"
      [image]="
        imagesService.getOverlay(CreateOverlay.cardSlot(asset().additionalSlot))
      "
      [withoutText]="true"
    />
    <ah-asset-detail-icon
      [detail]="asset().tokens?.resource"
      [image]="imagesService.getSimpleOverlay('resource')"
    />
    <ah-asset-detail-icon
      [detail]="asset().tokens?.clue"
      [image]="imagesService.getSimpleOverlay('clue')"
    />
    <ah-asset-detail-icon
      [detail]="asset().tokens?.doom"
      [image]="imagesService.getSimpleOverlay('doom')"
    />
  </div>
</div>

<ah-asset-popover
  class="opacity-0 w-60 transition-opacity absolute right-[70%] top-[40%] -z-50
    peer-hover:opacity-100 peer-hover:z-50 hover:opacity-100 hover:z-50
    data-[hovered=true]:opacity-100 data-[hovered=true]:z-50"
  [attr.data-hovered]="hovered()"
  [asset]="asset()"
/>
